{"ts":1377535588117,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\n<head>\n    <% include ../header.ejs %>\n    <script src=\"/socket.io/socket.io.js\"></script>\n    <script type=\"text/javascript\">\n        var socket = io.connect();\n        var userName;\n        $(document).ready(function(){\n            \n            socket.emit('join', '<%= roomNumber %>');\n\n            socket.on('roomCount', function(data){\n                $('#roomCount').text('현재 접속자 수 : ' + data + ' 명');\n            });\n            \n            $('#chat').append('<b>채팅에 참여하신 것을 환영합니다</b><br/><br/>');\n            \n            socket.on('message', function(data){\n                var json = JSON.parse(data);\n                \n                $('#chat').append('<b>' + json.id + ' 님의 채팅</b> : <br/>');\n                $('#chat').append(json.data + '<br/>');\n                \n                $(\"#chat\").scrollTop($(\"#chat\")[0].scrollHeight);\n            });\n            \n            socket.on('changeSWF', function(data){\n            alert(data);\n            alert(<%= roomNumber%>);\n            if(data == <%= roomNumber %>){\n                document.getElementById('wrapper').innerHTML='<embed src=\"/videos/finish.flv\" autostart=\"true\" width=\"100%\" height=\"100%\">';\n            }\n        });\n            \n        });\n        \n        function enter_chat(){\n            if (event.keyCode == 13) {   \n                chat();\n            }\n        }\n        \n        function chat(){\n            socket.emit('message', '{ \"id\": \"<%= userid %>\" , \"data\": \"' + $('#chat_content').val() + '\" }');\n            $('#chat_content').val(\"\");\n        }\n        \n        \n        function spin(filePath){\n            document.getElementById('wrapper').innerHTML='<embed src=\"'+filePath+'\" autostart=\"true\" width=\"675\" height=\"530\">'\n        }\n        function spin2(filePath){\n            document.getElementById('wrapper').innerHTML='<embed src=\"'+filePath+'\" autostart=\"true\" width=\"550\" height=\"530\">'\n        }\n        \n        function full_screen(roomNumber){\n            window.open('/fullScreen?roomNumber=' + roomNumber);\n        }\n    </script>\n</head>\n<body>\n    <div id=\"wrap\">\n    \t<div id=\"top\">\n    \t\t<% include ../top.ejs %>\n    \t</div>\n    \t<div id=\"center\">\n            <div id=\"right\" style=\"width:675px; margin-right:10px;\">\n                <p style=\"border:1px solid gray; background-color:#f8f8f8; color:#494949; width:675px; height:20px; font-weight:bold; margin-bottom:5px; border-radius:5px; box-shadow: 1px 1px 3px #999;\"><%= roomName %></p>\n                <div id=\"wrapper\">\n                    <object id=\"FlashID\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"675\" height=\"530\">\n                        <param name=\"movie\" value=\"/videos/post_broad.swf\" />\n                        <param name=\"FlashVars\" value=\"roomNumber=<%= roomNumber %>\"/>\n                        <param name=\"quality\" value=\"high\" />\n                        <param name=\"wmode\" value=\"opaque\" />\n                        <param name=\"swfversion\" value=\"9.0.45.0\" />\n                        <!-- 이 param 태그는 Flash Player 6.0 r65 이후 버전 사용자에게 최신 버전의 Flash Player를 다운로드하라는 메시지를 표시합니다. 사용자에게 이러한 메시지를 표시하지 않으려면 이 태그를 삭제하십시오. -->\n                        <param name=\"expressinstall\" value=\"Scripts/expressInstall.swf\" />\n                        <param name=\"LOOP\" value=\"false\" />\n                        <!-- 다음 객체 태그는 IE 이외의 브라우저에 사용됩니다. IECC를 사용하여 IE에서 이 태그를 숨기십시오. -->\n                        <!--[if !IE]>-->\n                        <object type=\"application/x-shockwave-flash\" data=\"/videos/post_broad.swf\" width=\"675\" height=\"530\">\n                        <!--<![endif]-->\n                            <param name=\"FlashVars\" value=\"roomNumber=<%= roomNumber %>\"/>\n                            <param name=\"quality\" value=\"high\" />\n                            <param name=\"wmode\" value=\"opaque\" />\n                            <param name=\"swfversion\" value=\"9.0.45.0\" />\n                            <param name=\"expressinstall\" value=\"Scripts/expressInstall.swf\" />\n                            <param name=\"LOOP\" value=\"false\" />\n                            <!-- Flash Player 6.0 이전 버전 사용자의 브라우저에는 다음과 같은 대체 내용이 표시됩니다. -->\n                            <div>\n                            <h4>이 페이지의 내용을 보려면 최신 버전의 Adobe Flash Player가 필요합니다.</h4>\n                            <p><a href=\"http://www.adobe.com/go/getflashplayer\"><img src=\"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif\" alt=\"Adobe Flash Player 내려받기\" width=\"112\" height=\"33\" /></a></p>\n                            </div>\n                        <!--[if !IE]>-->\n                        </object>\n                    <!--<![endif]-->\n                    </object>\n                    <!--<embed src=\"/videos/post_broad.swf\" style=\"width:675px;height:530px;\" id=\"flash\">-->\n                </div>\n                <p style=\"border:1px solid gray; background-color:#f8f8f8; color:#494949; width:675px; height:125px; margin-top:3px; border-radius:8px; box-shadow: 1px 1px 3px #999;\">\n                    <input type=\"button\" value=\"화면전환(↑)\" onclick=\"spin('/videos/post_broad.swf?roomNumber=<%= roomNumber %>')\"/>\n                    <br/>\n                    <input type=\"button\" value=\"화면전환(←)\" onclick=\"spin2('/videos/post_broad4.swf?roomNumber=<%= roomNumber %>')\"/>\n                    <input type=\"button\" value=\"화면전환(↓)\" onclick=\"spin('/videos/post_broad3.swf?roomNumber=<%= roomNumber %>')\"/>\n                    <input type=\"button\" value=\"화면전환(→)\" onclick=\"spin2('/videos/post_broad2.swf?roomNumber=<%= roomNumber %>')\"/>\n                    <br/><br/>\n                    <input type=\"button\" value=\"크게 보기\" onclick=\"full_screen(<%= roomNumber %>)\"/>\n                    <input type=\"button\" value=\"추천 하기\" onclick=\"window.open('/recommend?room=<%= room[0].number %>&id=<%= userid %>')\" />\n                    <input type=\"button\" value=\"즐겨 찾기\" onclick=\"window.open('/favorites?BJ=<%= room[0].id %>&id=<%= userid %>')\" />\n                    <br/><br/>\n                    <b>[ 제목 ] </b> <%= room[0].name %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>[ 방송BJ ] </b> <%= room[0].id %> &nbsp;(<b>추천수</b> : <span id=\"recommend\"><%= room[0].recommend %></span>)\n                    <br/>\n                    <b>[ 방송 시작 날짜 ] </b> <%= room[0].date %>\n                </p>\n            </div>\n            <div id=\"left\">\n                            <p id=\"roomCount\" style=\"width:270px; border:1px solid black; margin-bottom:10px; background-color:#73d8ff; color:#494949; font-weight:bold; border-radius:5px; box-shadow: 2px 2px 5px #999;\">현재 접속자 수 : 0 명</p>\n                            <div style=\"border:1px solid black; padding:3px; border-radius:5px; box-shadow: 2px 2px 5px #999;\">\n                                <div style=\"width:250px; height:622px; text-align:left; overflow-x:hidden;overflow-y:scroll; margin-bottom:5px; border:1px solid black; padding:0 5px; border-radius:5px; box-shadow: 2px 2px 5px #999;\" id=\"chat\"></div>\n                                    <input type=\"text\" size=\"32\" id=\"chat_content\" onkeydown=\"enter_chat()\" style=\"border:1px solid black;\" />\n                                    <input type=\"button\" value=\"전송\" onclick=\"chat()\" style=\"padding:2px;\" />\n                            </div>\n            </div>\n        </div>\n    \t</div>\n    \t<div id=\"bottom\">\n    \t\t<% include ../bottom.ejs %>\n    \t</div>\n    </div>\n</body>\n\n"]],"start1":0,"start2":0,"length1":0,"length2":7349}]],"length":7349}
{"contributors":[],"silentsave":false,"ts":1377535592539,"patch":[[{"diffs":[[0,"a){\n"],[-1,"            alert(data);\n            alert(<%= roomNumber%>);\n"],[0,"    "]],"start1":936,"start2":936,"length1":70,"length2":8}]],"length":7287,"saved":false}
{"ts":1377535608328,"patch":[[{"diffs":[[0,"        "],[1,"    "],[0,"if(data "]],"start1":944,"start2":944,"length1":16,"length2":20},{"diffs":[[0,"er %>){\n"],[1,"    "],[0,"        "]],"start1":979,"start2":979,"length1":16,"length2":20},{"diffs":[[0,"00%\">';\n        "],[-1,"    }\n"],[0,"        });\n    "]],"start1":1124,"start2":1124,"length1":38,"length2":32},{"diffs":[[0,"               }"],[-1,");"],[0,"\n            \n  "]],"start1":1133,"start2":1133,"length1":34,"length2":32},{"diffs":[[0,"  }\n            "],[1,"});"],[0,"\n        });\n   "]],"start1":1146,"start2":1146,"length1":32,"length2":35}]],"length":7290,"saved":false}
{"ts":1377535628046,"patch":[[{"diffs":[[0,"ish."],[-1,"flv"],[1,"swf"],[0,"\" au"]],"start1":1076,"start2":1076,"length1":11,"length2":11}]],"length":7290,"saved":false}
